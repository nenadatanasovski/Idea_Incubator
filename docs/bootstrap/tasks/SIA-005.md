# SIA-005: Pattern Extractor

---

## Metadata

| Field          | Value                      |
| -------------- | -------------------------- |
| **Phase**      | 9 - Self-Improvement Agent |
| **Depends On** | SIA-003                    |
| **Blocks**     | SIA-006                    |
| **Priority**   | P2                         |
| **Owner**      | Human + Claude Code        |

---

## Summary

Implement the pattern extractor that identifies successful approaches and reusable code patterns from successful task executions.

---

## Context

### Pattern Types

| Type               | Example                          |
| ------------------ | -------------------------------- |
| **API Route**      | Standard Express route structure |
| **Database Query** | Common query patterns            |
| **Component**      | React component patterns         |
| **Error Handling** | Standard error handling          |

---

## Requirements

1. **Success Analysis**:
   - Analyze successful executions
   - Identify reusable approaches
   - Extract code patterns

2. **Pattern Formatting**:
   - Template with placeholders
   - Usage context
   - Dependencies noted

3. **Pattern Storage**:
   - Save to Knowledge Base
   - Tag by file type
   - Include examples

---

## Pass Criteria

| #   | Criterion          | How to Verify              |
| --- | ------------------ | -------------------------- |
| 1   | Patterns extracted | Test with successful build |
| 2   | Properly formatted | Check structure            |
| 3   | Reusable           | Apply pattern to new task  |

---

## Output Files

```
agents/sia/pattern-extractor.ts
```

---

## Code Template

```typescript
interface Pattern {
  id: string;
  name: string;
  description: string;
  template: string;
  fileTypes: string[];
  context: string;
  confidence: number;
  usageCount: number;
}

export async function extractPatterns(
  analysis: ExecutionAnalysis,
): Promise<Pattern[]> {
  // Analyze successful code
  // Identify patterns
  // Create templates
}
```
