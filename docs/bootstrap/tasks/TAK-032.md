# TAK-032: Task Agent API Tests

---

## Metadata

| Field          | Value               |
| -------------- | ------------------- |
| **Phase**      | 8 - API Tests       |
| **Depends On** | TAK-017, TAK-018    |
| **Blocks**     | TAK-038 (E2E Tests) |
| **Priority**   | P1                  |
| **Owner**      | Build Agent         |

---

## Summary

Create API integration tests for all Task Agent REST endpoints including CRUD operations, validation, dependency management, and test execution.

---

## Requirements

1. **Test Cases**:
   - Test all CRUD endpoints
   - Test validation endpoint
   - Test dependency endpoints
   - Test test execution endpoints
   - Test error handling

---

## Pass Criteria

**PASS** when ALL of the following are true:

| #   | Criterion            | How to Verify                                                              |
| --- | -------------------- | -------------------------------------------------------------------------- |
| 1   | File exists          | `test -f tests/api/task-agent.test.ts` returns 0                           |
| 2   | Has CRUD tests       | `grep -q "POST.*tasks\|GET.*tasks" tests/api/task-agent.test.ts` returns 0 |
| 3   | Has validation tests | `grep -q "validate" tests/api/task-agent.test.ts` returns 0                |
| 4   | Tests pass           | `npm run test:api -- --filter "task-agent"` passes                         |

**FAIL** if any criterion is not met.

---

## Output Files

```
tests/api/
└── task-agent.test.ts
```
