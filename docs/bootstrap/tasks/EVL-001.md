# EVL-001: 30-Criteria Scoring Implementation

---

## Metadata

| Field          | Value                   |
| -------------- | ----------------------- |
| **Phase**      | 4 - Evaluation System   |
| **Depends On** | IDE-005 (handoff brief) |
| **Blocks**     | EVL-002, EVL-004        |
| **Priority**   | P2                      |
| **Owner**      | Human + Claude Code     |

---

## Summary

Implement the 30-criteria scoring system that evaluates ideas across 6 categories. Each criterion is scored 1-10 with confidence levels, generating a comprehensive evaluation profile.

---

## Context

### Evaluation Categories

| Category        | Criteria Count | Focus                                                        |
| --------------- | -------------- | ------------------------------------------------------------ |
| **Problem**     | 5              | Clarity, Severity, Target, Validation, Uniqueness            |
| **Solution**    | 5              | Clarity, Feasibility, Uniqueness, Scalability, Defensibility |
| **Feasibility** | 5              | Technical, Resources, Skills, Time, Dependencies             |
| **Fit**         | 5              | Personal, Passion, Skills, Network, Life Stage               |
| **Market**      | 5              | Size, Growth, Competition, Barriers, Timing                  |
| **Risk**        | 5              | Execution, Market, Technical, Financial, Regulatory          |

### Scoring Scale

| Score | Meaning               |
| ----- | --------------------- |
| 1-2   | Critical weakness     |
| 3-4   | Significant concern   |
| 5-6   | Neutral/Average       |
| 7-8   | Notable strength      |
| 9-10  | Exceptional advantage |

---

## Requirements

1. **Criterion Definitions**:
   - Define each criterion in detail
   - Provide scoring rubric for each
   - Include example scores

2. **Evaluation Engine**:
   - Score each criterion independently
   - Use Claude for assessment
   - Generate rationale for each score

3. **Confidence Scoring**:
   - Track confidence for each score
   - Low confidence = needs more data
   - Aggregate confidence for category

4. **Output Format**:
   - JSON for API consumption
   - Markdown for human review
   - Visual score cards

---

## Pass Criteria

**PASS** when ALL of the following are true:

| #   | Criterion                | How to Verify             |
| --- | ------------------------ | ------------------------- |
| 1   | All 30 criteria scored   | Check evaluation output   |
| 2   | Scores include rationale | Verify reasoning text     |
| 3   | Confidence tracked       | Each score has confidence |
| 4   | Categories aggregated    | Category averages correct |

**FAIL** if any criterion is not met.

---

## Output Files

```
agents/evaluator.ts                        <- Evaluation engine
taxonomy/criteria-definitions.json         <- Criterion details
types/evaluation.ts                        <- TypeScript types
tests/unit/agents/evaluator.test.ts
```

---

## Code Template

```typescript
// agents/evaluator.ts

interface CriterionScore {
  criterion: string;
  category: string;
  score: number; // 1-10
  confidence: number; // 0-1
  rationale: string;
  evidence: string[];
}

interface EvaluationResult {
  ideaSlug: string;
  timestamp: string;
  scores: CriterionScore[];
  categoryAverages: Record<string, number>;
  overallScore: number;
  overallConfidence: number;
  summary: string;
}

export async function evaluateIdea(
  ideaContext: IdeaContext,
  options?: EvaluationOptions,
): Promise<EvaluationResult> {
  const scores: CriterionScore[] = [];

  for (const category of CATEGORIES) {
    for (const criterion of category.criteria) {
      const score = await scoreCriterion(criterion, ideaContext, options);
      scores.push(score);
    }
  }

  return aggregateResults(scores);
}
```

---

## Validation

```bash
# Run evaluator tests
npm test -- tests/unit/agents/evaluator.test.ts

# Evaluate test idea
npm run evaluate test-idea

# Verify all criteria scored
cat users/default/ideas/test-idea/analysis/evaluation.json | jq '.scores | length'
# Should output: 30
```

---

## Next Steps

After completing: Integrate red team challenges (EVL-002).
