# TAK-010: ClassificationEngine Service

---

## Metadata

| Field | Value |
|-------|-------|
| **Phase** | 3 - Core Services |
| **Depends On** | TAK-007 |
| **Blocks** | TAK-016 (TaskAgent) |
| **Priority** | P1 |
| **Owner** | Build Agent |

---

## Summary

Implement the ClassificationEngine class that auto-detects task category, suggests labels, predicts affected files, and estimates effort.

---

## Requirements

1. **ClassificationEngine class**:
   - Auto-detect task category from description
   - Suggest labels/tags
   - Predict affected files
   - Estimate effort bucket (quick/medium/large)
   - Assess risk level

2. **Methods**:
   - `classify(task: Task): Promise<ClassificationResult>`
   - `detectCategory(description): TaskCategory`
   - `suggestLabels(task): string[]`
   - `predictAffectedFiles(task): string[]`
   - `estimateEffort(task): EffortBucket`

---

## Pass Criteria

**PASS** when ALL of the following are true:

| # | Criterion | How to Verify |
|---|-----------|---------------|
| 1 | File exists | `test -f server/services/task-agent/classification-engine.ts` returns 0 |
| 2 | Exports ClassificationEngine | `grep -q "export class ClassificationEngine" server/services/task-agent/classification-engine.ts` returns 0 |
| 3 | Has classify method | `grep -q "async classify" server/services/task-agent/classification-engine.ts` returns 0 |
| 4 | Has detectCategory | `grep -q "detectCategory" server/services/task-agent/classification-engine.ts` returns 0 |
| 5 | TypeScript compiles | `npx tsc --noEmit server/services/task-agent/classification-engine.ts` returns 0 |

**FAIL** if any criterion is not met.

---

## Output Files

```
server/services/task-agent/
└── classification-engine.ts
```

---

## Validation

```bash
npx tsc --noEmit server/services/task-agent/classification-engine.ts
npm test -- --grep "classification"
```

---

## Next Steps

After completing: Implement TestGenerator (TAK-011).
