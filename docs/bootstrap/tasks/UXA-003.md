# UXA-003: Puppeteer MCP Integration

---

## Metadata

| Field | Value |
|-------|-------|
| **Phase** | 10 - UX Agent |
| **Depends On** | UXA-002 |
| **Blocks** | UXA-004 |
| **Priority** | P2 |
| **Owner** | Human + Claude Code |

---

## Summary

Integrate with Puppeteer via MCP (Model Context Protocol) to enable browser automation. The MCP bridge provides a standardized interface for browser control.

---

## Context

### MCP Browser Actions

| Action | Description |
|--------|-------------|
| `navigate` | Go to URL |
| `click` | Click element |
| `type` | Enter text |
| `screenshot` | Capture page |
| `evaluate` | Run JavaScript |
| `waitFor` | Wait for element |

---

## Requirements

1. **MCP Client**:
   - Connect to Puppeteer MCP server
   - Handle connection lifecycle
   - Retry on failures

2. **Action Wrapper**:
   - Typed action functions
   - Error handling
   - Timeout management

3. **Browser Management**:
   - Launch/close browser
   - Page lifecycle
   - Context isolation

---

## Pass Criteria

| # | Criterion | How to Verify |
|---|-----------|---------------|
| 1 | MCP connects | Test connection |
| 2 | Actions work | Run sample actions |
| 3 | Screenshots captured | Verify file saved |

---

## Output Files

```
agents/ux/mcp-bridge.ts
```

---

## Code Template

```typescript
export class MCPBridge {
  async connect(): Promise<void>;
  async navigate(url: string): Promise<void>;
  async click(selector: string): Promise<void>;
  async type(selector: string, text: string): Promise<void>;
  async screenshot(path: string): Promise<void>;
  async evaluate(script: string): Promise<unknown>;
  async waitForSelector(selector: string, timeout?: number): Promise<void>;
  async close(): Promise<void>;
}
```
