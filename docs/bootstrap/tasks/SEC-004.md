# SEC-004: Rate Limiting

---

## Metadata

| Field          | Value               |
| -------------- | ------------------- |
| **Phase**      | 20 - Security       |
| **Depends On** | SEC-001             |
| **Blocks**     | None                |
| **Priority**   | P3                  |
| **Owner**      | Human + Claude Code |

---

## Summary

Implement rate limiting to prevent abuse and ensure fair resource usage. Different limits for different endpoint types.

---

## Requirements

1. **Limit Configuration**:
   - Per-endpoint limits
   - Per-user limits
   - Burst allowance

2. **Limit Enforcement**:
   - Track request counts
   - Return 429 on limit
   - Include retry-after header

3. **Monitoring**:
   - Log rate limit hits
   - Alert on suspicious patterns
   - Dashboard display

---

## Pass Criteria

| #   | Criterion       | How to Verify           |
| --- | --------------- | ----------------------- |
| 1   | Limits enforced | Exceed limit, check 429 |
| 2   | Headers correct | Check retry-after       |
| 3   | Logging works   | Check logs              |

---

## Output Files

```
server/middleware/rate-limiter.ts
```
