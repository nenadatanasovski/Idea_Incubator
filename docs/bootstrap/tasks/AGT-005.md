# AGT-005: Document Escape Hatch Procedures

---

## Metadata

| Field          | Value               |
| -------------- | ------------------- |
| **Phase**      | 0 - Agent Bootstrap |
| **Depends On** | AGT-003             |
| **Blocks**     | SPC-001             |
| **Priority**   | P1                  |
| **Owner**      | Human               |

---

## Summary

Document procedures for when agents produce incorrect output. This is the safety net that makes autonomous agents safe.

---

## Requirements

1. **Detection Criteria**:
   - When to recognize agent failure
   - Quality thresholds that trigger escalation
   - Automated detection where possible

2. **Manual Override Procedures**:
   - How to stop an agent mid-execution
   - How to roll back agent changes
   - How to manually correct output

3. **Recovery Procedures**:
   - How to restart after manual correction
   - How to prevent same failure recurring
   - How to update gotchas/patterns from failure

4. **Escalation Matrix**:
   - What issues human must handle
   - What issues agents can self-correct
   - When to abandon and start fresh

---

## Pass Criteria

**PASS** when ALL of the following are true:

| #   | Criterion                | How to Verify                                                             |
| --- | ------------------------ | ------------------------------------------------------------------------- |
| 1   | Doc exists               | `test -f docs/bootstrap/ESCAPE-HATCHES.md` returns 0                      |
| 2   | Has Detection section    | `grep -q "## Detection" docs/bootstrap/ESCAPE-HATCHES.md` returns 0       |
| 3   | Has Override section     | `grep -q "## Manual Override" docs/bootstrap/ESCAPE-HATCHES.md` returns 0 |
| 4   | Has Recovery section     | `grep -q "## Recovery" docs/bootstrap/ESCAPE-HATCHES.md` returns 0        |
| 5   | Has Escalation Matrix    | `grep -q "Escalation" docs/bootstrap/ESCAPE-HATCHES.md` returns 0         |
| 6   | Has 3+ rollback commands | `grep -c "git" docs/bootstrap/ESCAPE-HATCHES.md` >= 3                     |

**FAIL** if any criterion is not met.

---

## Output Files

```
docs/bootstrap/
└── ESCAPE-HATCHES.md
```

---

## Validation

```bash
# Check document exists and has required sections
test -f docs/bootstrap/ESCAPE-HATCHES.md && \
  grep -q "## Detection" docs/bootstrap/ESCAPE-HATCHES.md && \
  grep -q "## Manual Override" docs/bootstrap/ESCAPE-HATCHES.md && \
  echo "OK"
```

---

## Next Steps

After completing: Reference during all agent implementation. Include in CLAUDE.md.
