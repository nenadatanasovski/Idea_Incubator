# TAK-040: Update CLAUDE.md Documentation

---

## Metadata

| Field | Value |
|-------|-------|
| **Phase** | 12 - Documentation |
| **Depends On** | TAK-016 |
| **Blocks** | None |
| **Priority** | P2 |
| **Owner** | Build Agent |

---

## Summary

Update CLAUDE.md to document the Task Agent, its commands, task categories, and integration with the existing system.

---

## Requirements

1. **Agent Types Section**:
   - Add Task Agent to the agent types list
   - Document its role as "always-on orchestrator"

2. **Task Categories Section**:
   - Document all 16 task categories
   - Explain when each should be used

3. **Task Executor Mapping**:
   - Add TAK prefix to task file mappings
   - Document where Task Agent files live

4. **Telegram Commands**:
   - Document all /task commands
   - Include usage examples

5. **API Routes**:
   - Add Task Agent API endpoints to route table
   - Document WebSocket events

---

## Pass Criteria

**PASS** when ALL of the following are true:

| # | Criterion | How to Verify |
|---|-----------|---------------|
| 1 | Task Agent in agent list | `grep -q "Task.*Agent" CLAUDE.md` returns 0 |
| 2 | Has task categories | `grep -q "TaskCategory\|task_categories" CLAUDE.md` returns 0 |
| 3 | Has Telegram commands | `grep -q "/start\|/status\|/suggest" CLAUDE.md` returns 0 |
| 4 | Has API routes | `grep -q "/api/task-agent" CLAUDE.md` returns 0 |

**FAIL** if any criterion is not met.

---

## Output Files

```
CLAUDE.md (updated)
```

---

## Code Template

```markdown
## Task Agent

The Task Agent is an always-on orchestrator that:
- Validates tasks before execution
- Detects duplicates and relationships
- Manages dependencies and blocking
- Suggests prioritized next actions
- Integrates with Telegram for mobile access

### Task Categories

| Category | Description |
|----------|-------------|
| feature | New functionality |
| improvement | Enhancements to existing features |
| bug | Bug fixes |
| investigation | Research or exploration |
| technical_debt | Code cleanup |
| infrastructure | System/DevOps work |
| documentation | Docs updates |
| refactoring | Code restructuring |
| security | Security improvements |
| performance | Performance optimization |
| testing | Test coverage |
| migration | Data/schema migrations |
| integration | Third-party integrations |
| ux_design | UX/UI work |
| maintenance | Ongoing maintenance |
| decommissioned | Deprecated features |

### Telegram Commands

| Command | Description |
|---------|-------------|
| /start | Link chat to task list |
| /status | Show execution status |
| /lists | Show active task lists |
| /suggest | Get next suggested action |
| /execute | Start list execution |
| /pause | Pause execution |
| /resume | Resume execution |
| /questions | Show pending questions |
| /help | Show available commands |

### API Endpoints

| Endpoint | Method | Description |
|----------|--------|-------------|
| /api/task-agent/tasks | POST | Create task |
| /api/task-agent/tasks | GET | List tasks |
| /api/task-agent/tasks/:id | GET | Get task |
| /api/task-agent/tasks/:id | PUT | Update task |
| /api/task-agent/tasks/:id | DELETE | Delete task |
| /api/task-agent/tasks/:id/validate | POST | Validate task |
| /api/task-agent/tasks/:id/execute-tests | POST | Run tests |
```

---

## Validation

```bash
# Verify updates applied
grep -q "Task.*Agent" CLAUDE.md && echo "Agent section: OK"
grep -q "TaskCategory\|task.*categor" CLAUDE.md && echo "Categories: OK"
grep -q "/api/task-agent" CLAUDE.md && echo "API routes: OK"
```

---

## Next Steps

After completing this task:
1. Run `npm run sync` to update database
2. Verify CLAUDE.md renders correctly
3. Check that other agents can reference the new documentation
