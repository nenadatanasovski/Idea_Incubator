# TAK-019: Register Task Agent in Bot Registry

---

## Metadata

| Field          | Value                     |
| -------------- | ------------------------- |
| **Phase**      | 5 - Telegram Integration  |
| **Depends On** | TAK-016                   |
| **Blocks**     | TAK-020 (TelegramHandler) |
| **Priority**   | P1                        |
| **Owner**      | Build Agent               |

---

## Summary

Add 'task' agent type to the bot registry and configure the Telegram bot token from environment.

---

## Requirements

1. **Update bot-registry.ts**:
   - Add 'task' agent type to registry
   - Load TELEGRAM_BOT_TASK_TOKEN from env
   - Register task bot with health checks

2. **Environment Variable**:
   - TELEGRAM_BOT_TASK_TOKEN - Telegram bot token for Task Agent

---

## Pass Criteria

**PASS** when ALL of the following are true:

| #   | Criterion           | How to Verify                                                                      |
| --- | ------------------- | ---------------------------------------------------------------------------------- |
| 1   | Has task agent type | `grep -q "task\|TASK" server/communication/bot-registry.ts` returns 0              |
| 2   | Loads env token     | `grep -q "TELEGRAM_BOT_TASK_TOKEN" server/communication/bot-registry.ts` returns 0 |
| 3   | TypeScript compiles | `npx tsc --noEmit server/communication/bot-registry.ts` returns 0                  |

**FAIL** if any criterion is not met.

---

## Output Files

```
server/communication/
└── bot-registry.ts (UPDATE)
```

---

## Validation

```bash
npx tsc --noEmit server/communication/bot-registry.ts
```

---

## Next Steps

After completing: Implement TelegramHandler (TAK-020).
