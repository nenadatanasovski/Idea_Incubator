# VAL-002: Build Validation Agent Using Build Agent

---

## Metadata

| Field | Value |
|-------|-------|
| **Phase** | 8 - Validation Agent |
| **Depends On** | VAL-001, BLD-009 |
| **Blocks** | VAL-003, VAL-004 |
| **Priority** | P1 |
| **Owner** | Build Agent + Human Review |

---

## Summary

Execute the Build Agent to implement the Validation Agent from the generated specification. This is a key dogfooding milestone - the build pipeline building a validator for itself.

---

## Context

### Implementation Scope

Based on the generated spec, Build Agent will create:
- `agents/validation/orchestrator.ts` - Main coordinator
- `agents/validation/level-configs.ts` - Validation level definitions
- `agents/validation/validators/*.ts` - Individual validator implementations
- `agents/validation/db.ts` - Database operations
- `server/routes/validation.ts` - API routes
- `types/validation.ts` - TypeScript interfaces

### Build Process

1. Build Agent reads spec and tasks
2. Executes tasks in dependency order
3. Runs validation after each task
4. Records results and learns from issues

---

## Requirements

1. **Execute Build**:
   - Run Build Agent with validation-agent spec
   - Monitor progress
   - Handle any questions

2. **Human Review**:
   - Review generated code
   - Verify against spec requirements
   - Approve or request fixes

3. **Quality Gates**:
   - TypeScript compiles without errors
   - Unit tests pass
   - Code follows project conventions

4. **Documentation**:
   - Record any issues encountered
   - Document gotchas for Knowledge Base
   - Update task status

---

## Pass Criteria

**PASS** when ALL of the following are true:

| # | Criterion | How to Verify |
|---|-----------|---------------|
| 1 | All tasks complete | Check tasks.md statuses |
| 2 | Code compiles | `npx tsc --noEmit` |
| 3 | Tests pass | `npm test -- validation` |
| 4 | Human approved | Code review complete |

**FAIL** if any criterion is not met.

---

## Output Files

```
agents/validation/
├── orchestrator.ts
├── level-configs.ts
├── db.ts
├── result-aggregator.ts
└── validators/
    ├── typescript-validator.ts
    ├── test-runner.ts
    ├── coverage-analyzer.ts
    └── security-scanner.ts
server/routes/validation.ts
types/validation.ts
database/migrations/029_validation_agent.sql
tests/validation-agent.test.ts
```

---

## Validation

```bash
# Run build
npm run build:execute -- --spec ideas/vibe/agents/validation-agent/build/spec.md

# Verify compilation
npx tsc --noEmit

# Run tests
npm test -- tests/validation-agent.test.ts
```

---

## Next Steps

After completing: Implement validation levels (VAL-003).
